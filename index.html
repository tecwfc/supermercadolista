<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Supermercado - Lista Completa</title>
  <style>
    /* ==============================
       RESET E CONFIGURAÇÕES GLOBAIS
    ============================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #f5f7f9;
      color: #333;
      line-height: 1.6;
    }

    /* ==============================
       CABEÇALHO
    ============================== */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.2rem;
      background: linear-gradient(135deg, #2e7d32, #43a047);
      color: #fff;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo {
      display: flex;
      align-items: center;
      font-size: 2rem;
      font-weight: bold;
    }

    .logo-icon {
      margin-right: 10px;
      font-size: 2.2rem;
    }

    .search-bar {
      flex-grow: 1;
      margin: 0 2rem;
      position: relative;
    }

    .search-bar input {
      width: 100%;
      padding: 0.8rem 1rem;
      border: none;
      border-radius: 30px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .search-bar button {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #2e7d32;
      font-size: 1.2rem;
      cursor: pointer;
    }

    .cart-icon {
      position: relative;
      font-size: 1.8rem;
      padding: 0.5rem;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.2);
      cursor: pointer;
      transition: 0.3s;
    }

    .cart-icon:hover {
      background-color: rgba(255, 255, 255, 0.3);
    }

    .cart-count {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ff5722;
      color: #fff;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.8rem;
      font-weight: bold;
    }

    /* ==============================
       LAYOUT PRINCIPAL
    ============================== */
    .container {
      display: flex;
      max-width: 1400px;
      margin: 0 auto;
      padding: 1.5rem;
      gap: 1.5rem;
    }

    /* ------------------------------
       CATEGORIAS
    ------------------------------ */
    .categories {
      width: 280px;
      background: #fff;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
      align-self: flex-start;
      position: sticky;
      top: 100px;
      max-height: calc(100vh - 150px);
      overflow-y: auto;
    }

    .categories h3 {
      margin-bottom: 1.2rem;
      color: #2e7d32;
      font-size: 1.4rem;
      border-bottom: 2px solid #e0e0e0;
      padding-bottom: 0.5rem;
    }

    .categories ul {
      list-style: none;
    }

    .categories li {
      display: flex;
      align-items: center;
      padding: 0.8rem 0.5rem;
      margin-bottom: 0.3rem;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.2s;
    }

    .categories li:hover {
      background: #e8f5e9;
      color: #2e7d32;
    }

    .categories li.active {
      background: #c8e6c9;
      color: #2e7d32;
      font-weight: bold;
    }

    .category-icon {
      margin-right: 10px;
      font-size: 1.2rem;
      width: 24px;
      text-align: center;
    }

    /* ------------------------------
       PRODUTOS
    ------------------------------ */
    .products {
      flex-grow: 1;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 1.5rem;
    }

    .product-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
      display: flex;
      flex-direction: column;
      transition: 0.3s;
    }

    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
    }

    .product-info {
      padding: 1.2rem;
      display: flex;
      flex-direction: column;
      flex-grow: 1;
    }

    .product-name {
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .product-price {
      color: #2e7d32;
      font-weight: bold;
      margin-bottom: 1rem;
    }

    .add-to-cart {
      background: linear-gradient(to right, #2e7d32, #4caf50);
      color: #fff;
      border: none;
      padding: 0.7rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      margin-top: auto;
      transition: 0.2s;
    }

    .add-to-cart:hover {
      background: linear-gradient(to right, #1b5e20, #388e3c);
    }

    /* ==============================
       CARRINHO
    ============================== */
    .cart-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: flex-end;
      z-index: 2000;
    }

    .cart-sidebar {
      width: 380px;
      max-width: 90%;
      height: 100%;
      background: #fff;
      padding: 1.5rem;
      box-shadow: -4px 0 12px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      position: relative;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
      }

      to {
        transform: translateX(0);
      }
    }

    .close-cart {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.5rem;
      background: none;
      border: none;
      cursor: pointer;
      color: #333;
    }

    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.2rem;
      padding-bottom: 0.8rem;
      border-bottom: 2px solid #e0e0e0;
    }

    .cart-header h3 {
      color: #2e7d32;
      font-size: 1.4rem;
    }

    .clear-cart {
      background: none;
      border: none;
      color: #f44336;
      cursor: pointer;
      font-size: 0.9rem;
      text-decoration: underline;
    }

    .cart-items {
      flex-grow: 1;
      overflow-y: auto;
      margin-bottom: 1.5rem;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 0;
      border-bottom: 1px solid #eee;
    }

    .item-info {
      flex-grow: 1;
    }

    .item-name {
      font-weight: 500;
    }

    .item-price {
      color: #2e7d32;
      font-size: 0.9rem;
    }

    .item-quantity {
      display: flex;
      align-items: center;
    }

    .quantity-btn,
    .remove-item {
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .quantity-btn {
      width: 28px;
      height: 28px;
      border-radius: 4px;
      border: 1px solid #ddd;
      background: #f5f5f5;
      font-weight: bold;
    }

    .quantity-input {
      width: 35px;
      text-align: center;
      margin: 0 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 0.2rem;
    }

    .remove-item {
      color: #f44336;
      background: none;
      border: none;
      margin-left: 0.8rem;
      font-size: 1.2rem;
    }

    .cart-footer {
      border-top: 2px solid #e0e0e0;
      padding-top: 1.2rem;
    }

    .cart-total {
      display: flex;
      justify-content: space-between;
      font-weight: bold;
      margin-bottom: 1.2rem;
    }

    .checkout-btn,
    .print-btn {
      width: 100%;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      padding: 1rem;
      transition: 0.2s;
      color: #fff;
      margin-top: 0.8rem;
    }

    .checkout-btn {
      background: linear-gradient(to right, #ff5722, #ff7043);
      font-size: 1.1rem;
    }

    .checkout-btn:hover {
      background: linear-gradient(to right, #e64a19, #f4511e);
    }

    .print-btn {
      background: linear-gradient(to right, #1976d2, #42a5f5);
    }

    .print-btn:hover {
      background: linear-gradient(to right, #1565c0, #1e88e5);
    }

    .empty-cart {
      text-align: center;
      color: #757575;
      padding: 2rem 0;
      font-style: italic;
    }

    /* ==============================
       TÍTULOS
    ============================== */
    .section-title {
      font-size: 1.8rem;
      color: #2e7d32;
      margin: 1.5rem 0;
      border-bottom: 2px solid #c8e6c9;
      padding-bottom: 0.5rem;
    }

    /* ==============================
       IMPRESSÃO
    ============================== */
    @media print {
      body * {
        visibility: hidden;
      }

      .print-mode-content,
      .print-mode-content * {
        visibility: visible;
      }

      .print-mode-content {
        position: static !important;
        width: 100% !important;
        height: auto !important;
        background: #fff !important;
        color: #000 !important;
        overflow: visible !important;
        padding: 0 !important;
      }

      table,
      tr,
      td,
      th {
        border-collapse: collapse !important;
        page-break-inside: avoid !important;
      }

      h2,
      h3,
      p,
      div {
        page-break-after: avoid !important;
        page-break-inside: avoid !important;
      }

      .cart-overlay,
      .cart-sidebar,
      .close-cart,
      .quantity-btn,
      .remove-item,
      .checkout-btn,
      .print-btn {
        display: none !important;
      }
    }

    /* ==============================
       RESPONSIVO
    ============================== */
    /* ==============================
   MOBILE EXTRA PEQUENO (até 480px)
============================== */
    @media (max-width: 460px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        padding: 1rem;
      }

      .logo {
        font-size: 1.8rem;
        margin-bottom: 0.5rem;
      }

      .search-bar {
        margin: 0 0 1rem 0;
        width: 100%;
      }

      .search-bar input {
        padding: 0.6rem 0.8rem;
        font-size: 0.9rem;
      }

      .cart-icon {
        align-self: flex-end;
        font-size: 1.5rem;
      }

      .container {
        padding: 0.5rem;
        gap: 0.8rem;
      }

      .products {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 1rem;
      }

      .product-card {
        border-radius: 10px;
      }

      .product-info {
        padding: 0.8rem;
      }

      .product-name {
        font-size: 0.9rem;
      }

      .product-price {
        font-size: 1rem;
      }

      .add-to-cart {
        font-size: 0.9rem;
        padding: 0.5rem;
      }

      .categories h3 {
        font-size: 1.2rem;
      }

      .categories li {
        font-size: 0.9rem;
        padding: 0.4rem;
      }
    }


    /* ==============================
   CABEÇALHO DO RELATÓRIO
============================== */
    .report-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 3px solid #00796b;
      padding: 1rem;
      margin-bottom: 1.5rem;
      background: #f9f9f9;
    }

    .report-logo {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .report-logo img {
      width: 60px;
      height: 60px;
      object-fit: contain;
    }

    .report-logo h1 {
      font-size: 1.8rem;
      color: #00796b;
    }

    .report-info {
      text-align: right;
      font-size: 0.95rem;
      color: #333;
    }

    .report-header {
      display: flex !important;
      visibility: visible !important;
      position: static !important;
      border-bottom: 2px solid #00796b !important;
      margin-bottom: 20px !important;
    }

    .report-header img {
      max-height: 60px !important;
    }
  </style>
</head>

<body>
  <header class="report-header">
    <div class="report-logo">
      <img src="logo.png" alt="Logo da Empresa">
      <h1>SuperMercado WR</h1>
    </div>
    <div class="report-info">
    </div>
    <div class="search-bar">
      <input type="text" placeholder="Buscar produtos...">
      <button>🔍</button>
    </div>
    <div class="cart-icon" onclick="toggleCart()">
      🛒
      <div class="cart-count">0</div>
    </div>
  </header>

  <div class="container">
    <div class="categories">
      <h3>Categorias</h3>
      <ul id="categories-list"></ul>
    </div>
    <div class="products-container"></div>
 </div>
  <!-- Carrinho Overlay -->
  <div class="cart-overlay" id="cart-overlay">
    <div class="cart-sidebar">
      <button class="close-cart" onclick="toggleCart()">✖</button>
      <div class="cart-header">
        <h3>Seu Carrinho</h3>
        <button class="clear-cart" onclick="clearCart()">Limpar</button>
      </div>
      <div class="cart-items" id="cart-items">
        <div class="empty-cart">Seu carrinho está vazio</div>
      </div>
      <div class="cart-footer">
        <div class="cart-total">
          <span>Total:</span>
          <span id="cart-total">R$ 0,00</span>
        </div>
        <!-- <button class="checkout-btn" onclick="checkout()">Finalizar Compra</button> -->
        <button class="print-btn" onclick="printCart()">Imprimir Lista</button>
      </div>
    </div>
  </div>

  <script>
    
    const categories = [
      {
        id: "bazar",
        name: "Bazar",
        icon: "🛍️",
        products: [
          { id: 100, name: "Chinelo", price: 22.90 },
          { id: 101, name: "Copo Descartáveis", price: 9.90 },
          { id: 102, name: "Esponja de Louças", price: 3.90 },
          { id: 113, name: "Jarra e Garrafa", price: 18.90 },
          { id: 114, name: "Lã de Aço", price: 4.50 },
          { id: 115, name: "Pilha palito", price: 9.90 },
          { id: 116, name: "Pilha média", price: 9.90 },
          { id: 117, name: "Lixeira", price: 22.90 },
          { id: 118, name: "Pá de Lixo", price: 15.90 },
          { id: 119, name: "Palitos de Fósforo", price: 2.90 },
          { id: 120, name: "Palitos de dente", price: 49.90 },
          { id: 121, name: "Panos de chão", price: 8.90 },
          { id: 122, name: "Rodo", price: 12.90 },
          { id: 123, name: "Saco de Lixo", price: 18.90 },
          { id: 124, name: "Vassoura", price: 19.90 },
          { id: 125, name: "Vela", price: 7.90 }
        ]
      },
      {
        id: "bebidas",
        name: "Bebidas",
        icon: "🥤",
        products: [
          { id: 201, name: "Água", price: 2.50 },
          { id: 202, name: "Água com gás", price: 3.50 },
          { id: 203, name: "Refrigerante de 2 Litros", price: 9.90 },
          { id: 204, name: "Refrigerante de 600ml", price: 6.90 },
          { id: 205, name: "Refrigerante de 200ml", price: 1.90 },
          { id: 206, name: "Suco (Leticia)", price: 7.90 }
        ]
      },
      {
        id: "biscoitos",
        name: "Biscoitos",
        icon: "🍪",
        products: [
          { id: 301, name: "Água e Sal", price: 4.20 },
          { id: 302, name: "Amanteigados", price: 5.90 },
          { id: 303, name: "Cream Cracker", price: 4.90 },
          { id: 304, name: "Bolinhos", price: 8.90 },
          { id: 305, name: "Recheados Pequenos", price: 6.50 },
          { id: 306, name: "Recheados grande", price: 6.50 },
          { id: 307, name: "Outros", price: 7.30 },
          { id: 308, name: "Torradas", price: 8.90 }

        ]
      },
      {
        id: "cafe",
        name: "Café",
        icon: "☕",
        products: [
          { id: 401, name: "Café em Pó", price: 12.90 },
          { id: 402, name: "Café Solúvel", price: 15.90 },
          { id: 403, name: "Cappuccino", price: 9.90 }
        ]
      },
      {
        id: "carnes",
        name: "Carnes",
        icon: "🥩",
        products: [
          { id: 501, name: "Carne Bovina", price: 39.90 },
          { id: 502, name: "Carne Suína", price: 29.90 },
          { id: 503, name: "Frango", price: 15.90 },
          { id: 504, name: "Peixe", price: 32.90 }
        ]
      },
      {
        id: "condimentos",
        name: "Condimentos",
        icon: "🧂",
        products: [
          { id: 601, name: "Azeite", price: 22.90 },
          { id: 602, name: "Canela / Canela em pó", price: 5.50 },
          { id: 603, name: "Catchup", price: 6.90 },
          { id: 604, name: "Molho de Pimenta", price: 7.90 },
          { id: 605, name: "Molhos Diversos", price: 8.90 },
          { id: 606, name: "Mostarda", price: 5.90 },
          { id: 607, name: "Noz Moscada", price: 6.50 },
          { id: 608, name: "Orégano", price: 4.90 },
          { id: 609, name: "Pimenta", price: 5.90 },
          { id: 610, name: "Pimenta do Reino", price: 6.90 },
          { id: 611, name: "Pimentão", price: 7.90 },
          { id: 612, name: "Sal", price: 3.50 },
          { id: 613, name: "Sanson Legumes", price: 4.90 },
          { id: 614, name: "Vinagre", price: 4.90 }
        ]
      },
      {
        id: "congelados",
        name: "Congelados",
        icon: "❄️",
        products: [
          { id: 701, name: "Empanado", price: 18.90 },
          { id: 702, name: "Hambúrguer", price: 14.90 },
          { id: 703, name: "Pizzas", price: 24.90 },
          { id: 704, name: "Sobremesa", price: 16.90 },
          { id: 705, name: "Sorvetes", price: 22.90 }
        ]
      },
      {
        id: "diet-light",
        name: "Diet e Light",
        icon: "🥗",
        products: [
          { id: 801, name: "Adoçante", price: 8.90 },
          { id: 802, name: "Aveia", price: 9.90 },
          { id: 803, name: "Granola", price: 12.90 },
          { id: 804, name: "Integrais", price: 10.90 }
        ]
      },
      {
        id: "doces",
        name: "Doces",
        icon: "🍬",
        products: [
          { id: 901, name: "Achocolatado em pó", price: 9.90 },
          { id: 902, name: "Açucar", price: 4.90 },
          { id: 903, name: "Balas / Gomas de mascar", price: 7.90 },
          { id: 904, name: "Cereal em Barra", price: 6.90 },
          { id: 905, name: "Chocolate", price: 8.90 },
          { id: 906, name: "Chocolate em pó", price: 10.90 },
          { id: 907, name: "Doces", price: 12.90 },
          { id: 908, name: "Gelatina", price: 3.90 },
          { id: 909, name: "Mingau", price: 8.90 }
        ]
      },
      {
        id: "feira",
        name: "Feira(Frutas)",
        icon: "🥦",
        products: [

          { id: 1001, name: "Alface", price: 4.90 },
          { id: 1002, name: "Beterrabas", price: 6.90 },
          { id: 1003, name: "Batatinhas", price: 5.90 },
          { id: 1004, name: "Banana", price: 5.90 },
          { id: 1005, name: "Coentro", price: 1.90 },
          { id: 1006, name: "Cenouras", price: 5.90 },
          { id: 1007, name: "Laranja", price: 7.90 },
          { id: 1008, name: "Maçã", price: 7.90 },
          { id: 1009, name: "Manga", price: 7.90 },
          { id: 1010, name: "Maracujá", price: 7.90 },
          { id: 1011, name: "Morango", price: 7.90 },
          { id: 1012, name: "Ovos", price: 12.90 },
          { id: 1013, name: "Tomate", price: 7.90 },
          { id: 1014, name: "Verduras", price: 4.90 },
          { id: 1015, name: "Uvas Pretas", price: 7.90 },
          { id: 1016, name: "Uvas Verdes", price: 7.90 }
        ]
      },
      {
        id: "frios-laticinios",
        name: "Frios e Laticínios",
        icon: "🧀",
        products: [
          { id: 1101, name: "Frios", price: 28.90 },
          { id: 1102, name: "Maionese", price: 8.90 },
          { id: 1103, name: "Manteiga", price: 9.90 },
          { id: 1104, name: "Margarina", price: 7.90 },
          { id: 1105, name: "Requeijão", price: 10.90 },
          { id: 1106, name: "Iogurte", price: 6.90 },
          { id: 1107, name: "Leite Desnatado", price: 5.90 },
          { id: 1108, name: "Leite em pó", price: 18.90 },
          { id: 1109, name: "Leite Integral", price: 5.90 },
          { id: 1110, name: "Leite Semi Desnatado", price: 5.90 }
        ]
      },
      {
        id: "limpeza",
        name: "Limpeza",
        icon: "🧹",
        products: [
          { id: 1201, name: "Alvejante", price: 8.90 },
          { id: 1202, name: "Amaciante", price: 12.90 },
          { id: 1203, name: "Desengordurante", price: 9.90 },
          { id: 1204, name: "Desinfetante Normal", price: 7.90 },
          { id: 1205, name: "Desinfetante Uau", price: 7.90 },
          { id: 1206, name: "Lava louças", price: 12.90 },
          { id: 1207, name: "Papel Toalha", price: 8.90 },
          { id: 1208, name: "Sabão barras", price: 8.90 },
          { id: 1209, name: "Sabão em pó Fardo", price: 75.90 }
        ]
      },
      {
        id: "massas",
        name: "Massas",
        icon: "🍝",
        products: [
          { id: 1301, name: "Instantânea", price: 4.90 },
          { id: 1302, name: "Macarrão", price: 5.90 },
          { id: 1303, name: "Massas de Bolo Com fermemto", price: 7.90 },
          { id: 1304, name: "Macarrão Ninho", price: 7.90 },
          { id: 1305, name: "Massas de bolo tradicional", price: 7.90 },
          { id: 1306, name: "Macarrão Parafuso", price: 7.90 }
        ]
      },
      {
        id: "mercearia",
        name: "Mercearia",
        icon: "🛒",
        products: [
          { id: 1401, name: "Arroz", price: 8.90 },
          { id: 1402, name: "Azeitona", price: 12.90 },
          { id: 1403, name: "Ervilha", price: 9.90 },
          { id: 1405, name: "Farinha & Cia", price: 7.90 },
          { id: 1406, name: "Feijão", price: 9.90 },
          { id: 1407, name: "Fermento", price: 5.90 },
          { id: 1408, name: "Flocão de milho", price: 5.90 },
          { id: 1409, name: "Milho com ervilha", price: 6.90 },
          { id: 1410, name: "Milho", price: 6.90 },
          { id: 1411, name: "Óleos", price: 10.90 },
          { id: 1412, name: "Salgadinhos", price: 12.90 },
          { id: 1413, name: "Sopa e cremes", price: 8.90 }
        ]
      },
      {
        id: "padaria",
        name: "Padaria",
        icon: "🍞",
        products: [
          { id: 1501, name: "Bisnagas", price: 8.90 },
          { id: 1502, name: "Bolo", price: 24.90 },
          { id: 1503, name: "Pães", price: 12.90 },
          { id: 1504, name: "Pão de Forma Integral", price: 9.90 },
          { id: 1504, name: "Pão", price: 7.90 },
          { id: 1505, name: "Quitandas", price: 14.90 },
          { id: 1506, name: "Salgados", price: 18.90 }
        ]
      },
      {
        id: "perfumaria",
        name: "Perfumaria",
        icon: "🧴",
        products: [
          { id: 1601, name: "Barba", price: 18.90 },
          { id: 1602, name: "Condicionador", price: 14.90 },
          { id: 1603, name: "Creme Dental", price: 6.90 },
          { id: 1604, name: "Depilação", price: 22.90 },
          { id: 1605, name: "Escova de dente", price: 9.90 },
          { id: 1606, name: "Esponja para banho", price: 8.90 },
          { id: 1607, name: "Fio dental", price: 7.90 },
          { id: 1608, name: "Fralda", price: 49.90 },
          { id: 1609, name: "Hidratante", price: 19.90 },
          { id: 1610, name: "Papel higiênico", price: 15.90 },
          { id: 1611, name: "Sabonete", price: 4.90 },
          { id: 1612, name: "Shampoo", price: 14.90 }
        ]
      }
    ];

  let cart = [];
  let currentCategory = categories[0].id;

  // ==============================
  // RENDERIZAÇÃO
  // ==============================
  document.addEventListener('DOMContentLoaded', () => {
    renderCategories();
    renderProducts();

    // CARREGA O CARRINHO DO LOCALSTORAGE
    const savedCart = localStorage.getItem('cart');
    if (savedCart) {
      cart = JSON.parse(savedCart);
    }

    updateCart();
  });

  function renderCategories() {
    const categoriesList = document.getElementById('categories-list');
    categoriesList.innerHTML = '';
    categories.forEach(category => {
      const li = document.createElement('li');
      li.className = currentCategory === category.id ? 'active' : '';
      li.innerHTML = `<span class="category-icon">${category.icon}</span>${category.name}`;
      li.addEventListener('click', () => {
        currentCategory = category.id;
        renderCategories();
        renderProducts();
      });
      categoriesList.appendChild(li);
    });
  }

  function renderProducts() {
    const container = document.querySelector('.products-container');
    container.innerHTML = '';
    const category = categories.find(c => c.id === currentCategory);
    const title = document.createElement('h2');
    title.className = 'section-title';
    title.innerHTML = `${category.icon} ${category.name}`;
    container.appendChild(title);
    const grid = document.createElement('div');
    grid.className = 'products';
    category.products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <div class="product-info">
          <div class="product-name">${p.name}</div>
          <div class="product-price">R$ ${p.price.toFixed(2)}</div>
          <button class="add-to-cart" onclick="addToCart(${p.id})">Adicionar</button>
        </div>`;
      grid.appendChild(card);
    });
    container.appendChild(grid);
  }
  // ==============================
  // CARRINHO
  // ==============================
  function addToCart(id) {
    let product = null;
    for (const cat of categories) {
      product = cat.products.find(p => p.id === id);
      if (product) break;
    }
    if (!product) return;
    const existing = cart.find(i => i.id === id);
    if (existing) existing.quantity++;
    else cart.push({ ...product, quantity: 1 });
    updateCart();
    const cartCount = document.querySelector('.cart-count');
    cartCount.style.transform = 'scale(1.3)';
    setTimeout(() => cartCount.style.transform = 'scale(1)', 300);
  }

  function removeFromCart(id) {
    cart = cart.filter(i => i.id !== id);
    updateCart();
  }

  function updateQuantity(id, qty) {
    const item = cart.find(i => i.id === id);
    if (item) {
      if (qty <= 0) removeFromCart(id);
      else item.quantity = Number(qty);
    }
    updateCart();
  }

  function clearCart() {
    cart = [];
    localStorage.removeItem('cart'); // remove do armazenamento
    updateCart();
  }

  function updateCart() {
    const cartItems = document.getElementById('cart-items');
    cartItems.innerHTML = '';
    if (cart.length === 0) {
      cartItems.innerHTML = `<div class="empty-cart">Seu carrinho está vazio</div>`;
    } else {
      cart.forEach(item => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <div class="item-info">
            <div class="item-name">${item.name}</div>
            <div class="item-price">R$ ${item.price.toFixed(2)}</div>
          </div>
          <div class="item-quantity">
            <button class="quantity-btn" onclick="updateQuantity(${item.id}, ${item.quantity - 1})">-</button>
            <input class="quantity-input" type="number" value="${item.quantity}" onchange="updateQuantity(${item.id}, this.value)">
            <button class="quantity-btn" onclick="updateQuantity(${item.id}, ${item.quantity + 1})">+</button>
            <button class="remove-item" onclick="removeFromCart(${item.id})">✖</button>
          </div>
        `;
        cartItems.appendChild(div);
      });
    }
    const total = cart.reduce((acc, i) => acc + i.price * i.quantity, 0);
    document.getElementById('cart-total').innerText = `R$ ${total.toFixed(2)}`;
    document.querySelector('.cart-count').innerText = cart.reduce((acc, i) => acc + i.quantity, 0);

    // SALVA NO LOCALSTORAGE
    localStorage.setItem('cart', JSON.stringify(cart));
  }

  function toggleCart() {
    document.getElementById('cart-overlay').style.display = document.getElementById('cart-overlay').style.display === 'flex' ? 'none' : 'flex';
  }

  //function checkout() {
  // if (cart.length === 0) return alert("Seu carrinho está vazio!");
//  alert("Compra finalizada! Total: " + document.getElementById('cart-total').innerText);
   // clearCart();
 //   toggleCart();
 // }

  // ==============================
  // IMPRESSÃO
  // ==============================
  function printCart() {
    if (cart.length === 0) return alert("Seu carrinho está vazio!");

    const categoriesInCart = {};
    for (const item of cart) {
      const cat = categories.find(c => c.products.some(p => p.id === item.id));
      if (!categoriesInCart[cat.name]) categoriesInCart[cat.name] = [];
      categoriesInCart[cat.name].push(item);
    }

    const printWindow = window.open('', '', 'width=900,height=700');
    const content = document.createElement('div');
    content.className = 'print-mode-content';
    content.style.display = 'flex';
    content.style.flexWrap = 'wrap';
    content.style.gap = '20px';

    // Cabeçalho
    const header = document.createElement('div');
    header.style.display = "flex";
    header.style.alignItems = "center";
    header.style.justifyContent = "space-between";
    header.style.borderBottom = "3px solid #00796b";
    header.style.marginBottom = "20px";
    header.style.padding = "10px";

    header.innerHTML = `
      <div style="display:flex; align-items:center; gap:10px;">
        <img src="logo.png" alt="Logo" style="width:60px; height:60px; object-fit:contain;">
        <h1 style="font-size:1.6rem; color:#00796b;">SuperMercado WR</h1>
      </div>
      <div style="text-align:right; font-size:0.9rem; color:#333;">
        <p>Relatório de Compras</p>
        <p>${new Date().toLocaleDateString()}</p>
      </div>
    `;
    printWindow.document.body.appendChild(header);

    for (const [catName, items] of Object.entries(categoriesInCart)) {
      const catDiv = document.createElement('div');
      catDiv.style.flex = '1 1 48%';
      catDiv.style.boxSizing = 'border-box';
      catDiv.style.marginBottom = '20px';
      catDiv.style.backgroundColor = '#f0f8ff';
      catDiv.style.padding = '10px';
      catDiv.innerHTML = `<h3 style="color:#2e7d32; margin-bottom:10px;">${catName}</h3>`;

      const table = document.createElement('table');
      table.style.width = '100%';
      table.style.borderCollapse = 'collapse';
      const tbody = document.createElement('tbody');
      items.forEach(i => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td style="border:1px solid #ccc; padding:5px;">${i.name}</td>
          <td style="border:1px solid #ccc; padding:5px; text-align:center;">${i.quantity}</td>
          <td style="border:1px solid #ccc; padding:5px; text-align:right;">R$ ${(i.price * i.quantity).toFixed(2)}</td>
        `;
        tbody.appendChild(tr);
      });
      table.appendChild(tbody);
      catDiv.appendChild(table);
      content.appendChild(catDiv);
    }

    const totalDiv = document.createElement('div');
    totalDiv.style.width = '100%';
    totalDiv.style.marginTop = '20px';
    totalDiv.style.fontWeight = 'bold';
    totalDiv.style.fontSize = '1.2rem';
    const total = cart.reduce((acc, i) => acc + i.price * i.quantity, 0);
    totalDiv.innerText = `Total Geral: R$ ${total.toFixed(2)}`;
    content.appendChild(totalDiv);

    printWindow.document.body.appendChild(content);
    printWindow.document.title = 'Relatório de Compras';
    printWindow.print();
  }
  </script>
</body>

</html>
